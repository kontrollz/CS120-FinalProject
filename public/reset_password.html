<!-- when a user forgets their password, they'll get a link
     sent to their email that will take them to this page. -->
<!DOCTYPE html>
<html>
  <head>
    <title>Reset Password - StarView</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="page">
      <div id="header"></div>

      <main>
        <div class="card">
          <p class="page-intro">
            Choose a new password for your StarView account.
          </p>
          <h1>Reset Password</h1>

          <!-- front-end only; backend later will verify token + update DB -->
          <form id="reset-password-form">
            <div class="form-row">
              <label for="reset-pass">New Password</label>
              <input type="password" id="reset-pass" name="password" required />
            </div>

            <div class="form-row">
              <label for="reset-pass-confirm">Confirm New Password</label>
              <input
                type="password"
                id="reset-pass-confirm"
                name="passwordConfirm"
                required
              />
            </div>

            <button type="submit">Update Password</button>
          </form>

          <p id="reset-message" class="message"></p>

          <p class="small-text">
            Once your password is reset, you can
            <a href="login.html">log back in here</a>.
          </p>

          <p class="small-text">
            This page will eventually use a secure reset link/token from the
            email. For now, it just shows the front-end flow.
          </p>
        </div>
      </main>

      <div id="footer"></div>
    </div>

    <script src="js/loadPartials.js"></script>
    <script>
      const resetForm = document.getElementById("reset-password-form");
      const resetMsg = document.getElementById("reset-message");

      if (resetForm) {
        resetForm.addEventListener("submit", (e) => {
          e.preventDefault();

          const pass = document.getElementById("reset-pass").value;
          const confirm = document.getElementById("reset-pass-confirm").value;

          if (pass.length < 6) {
            resetMsg.textContent = "Password should be at least 6 characters.";
            resetMsg.className = "message error";
            return;
          }

          if (pass !== confirm) {
            resetMsg.textContent = "Passwords do not match.";
            resetMsg.className = "message error";
            return;
          }

          resetMsg.textContent =
            "Your password would be updated here once the backend is connected.";
          resetMsg.className = "message success";
        });
      }
    </script>
  </body>
</html>
